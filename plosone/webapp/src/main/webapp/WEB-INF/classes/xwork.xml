<!DOCTYPE xwork PUBLIC "-//OpenSymphony Group//XWork 1.1.1//EN" "http://www.opensymphony.com/xwork/xwork-1.1.1.dtd">
<!--
  - Copyright (c) 2006 by Topaz, Inc.
  - http://topazproject.org
  -
  - Licensed under the Educational Community License version 1.0
  - http://opensource.org/licenses/ecl1.php
  -->
<xwork>
  <include file="webwork-default.xml" />

  <package name="default" extends="webwork-default">
    <result-types>
      <result-type name="freemarker"
        class="com.opensymphony.webwork.views.freemarker.FreemarkerResult" default="true" />
    </result-types>

    <interceptors>
      <interceptor-stack name="plosStack">
        <interceptor-ref name="timer" />
        <!--<interceptor-ref name="logger"/>-->
        <interceptor-ref name="defaultStack" />
      </interceptor-stack>
    </interceptors>
    <default-interceptor-ref name="plosStack" />

    <default-action-ref name="home" />

    <action name="home">
      <result>/WEB-INF/pages/todo.ftl</result>
    </action>

    <action name="register" class="org.plosone.action.RegistrationAction">
      <result name="success">/WEB-INF/pages/home.ftl</result>
    </action>
  </package>

  <package name="article" extends="default" namespace="/article">
    <action name="articleList" class="org.plos.article.web.ArticleListAction">
      <result name="success">/WEB-INF/pages/article/articleList.ftl</result>
    </action>

    <action name="fetchArticle" class="org.plos.article.web.FetchArticleAction">
      <result name="error">/WEB-INF/pages/error.ftl</result>
      <result name="success">/WEB-INF/pages/article/displayArticle.ftl</result>
    </action>
  </package>

  <package name="annotation" extends="default" namespace="/annotation">
    <action name="fetchBody" class="org.plos.annotation.web.BodyFetchAction">
      <result name="success">/WEB-INF/pages/annotation/showCommentBody.ftl</result>
    </action>

    <action name="listAnnotation" class="org.plos.annotation.web.ListAnnotationAction">
      <result name="success">/WEB-INF/pages/annotation/listAnnotation.ftl</result>
    </action>

    <action name="getAnnotation" class="org.plos.annotation.web.GetAnnotationAction">
      <result name="success">/WEB-INF/pages/annotation/viewAnnotationDetails.ftl</result>
    </action>

    <action name="listReply" class="org.plos.annotation.web.ListReplyAction">
      <result name="success">/WEB-INF/pages/annotation/listReply.ftl</result>
    </action>

    <action name="listAllReplies" class="org.plos.annotation.web.ListReplyAction"
      method="listAllReplies">
      <result name="success">/WEB-INF/pages/annotation/listReply.ftl</result>
    </action>

    <action name="getReply" class="org.plos.annotation.web.GetReplyAction">
      <result name="success">/WEB-INF/pages/annotation/viewReplyDetails.ftl</result>
    </action>
  </package>

  <package name="annotation-secure" extends="default" namespace="/annotation/secure">
    <action name="createAnnotation">
      <result type="freemarker">/WEB-INF/pages/annotation/createAnnotation.ftl</result>
    </action>

    <action name="createAnnotationSubmit" class="org.plos.annotation.web.CreateAnnotationAction">
      <result name="input">/WEB-INF/pages/annotation/createAnnotation.ftl</result>
      <result name="error">/WEB-INF/pages/annotation/createAnnotation.ftl</result>
      <result name="success" type="redirect">/home.action</result>
    </action>

    <action name="deleteAnnotation" class="org.plos.annotation.web.DeleteAnnotationAction">
      <result name="success" type="redirect">/home.action</result>
    </action>

    <action name="createReplySubmit" class="org.plos.annotation.web.CreateReplyAction">
      <result name="input">/WEB-INF/pages/annotation/createReply.ftl</result>
      <result name="error">/WEB-INF/pages/annotation/createReply.ftl</result>
      <result name="success" type="redirect">/home.action</result>
    </action>

    <action name="deleteReply" class="org.plos.annotation.web.DeleteReplyAction">
      <result name="success" type="redirect">/home.action</result>
    </action>

  </package>

  <package name="user-secure" extends="default" namespace="/user/secure">
    <action name="newUser">
      <result type="freemarker">/WEB-INF/pages/user/newUser.ftl</result>
    </action>

    <action name="createNewUser" class="org.plos.user.action.CreateUserAction">
      <result name="success" type="freemarker">/WEB-INF/pages/user/newUserCreated.ftl</result>
      <result name="input">/WEB-INF/pages/user/newUser.ftl</result>
    </action>

    <action name="displayUser" class="org.plos.user.action.DisplayUserAction">
      <result name="success" type="freemarker">/WEB-INF/pages/user/displayUser.ftl</result>
    </action>
  </package>

</xwork>
