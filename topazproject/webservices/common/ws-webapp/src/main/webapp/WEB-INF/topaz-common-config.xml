<?xml version="1.0" encoding="UTF-8" ?>
<!--
  $HeadURL::                                                                                      $
  $Id$

  Copyright (c) 2006 by Topaz, Inc.
  http://topazproject.org

  Licensed under the Educational Community License version 1.0
  http://opensource.org/licenses/ecl1.php
-->
<config>
  <topaz>
    <objects>
      <base-uri>info:doi/10.1371/</base-uri>
    </objects>
    <models>
      <ri type="http://topazproject.org/models#filter">rmi://localhost/fedora#filter:model=ri</ri>
      <articles type="${topaz.models.ri[@type]}">${topaz.models.ri}</articles>
      <annotations type="${topaz.models.ri[@type]}">${topaz.models.ri}</annotations>
      <users type="http://topazproject.org/models#filter">rmi://localhost/fedora#filter:model=users</users>
      <grants type="http://topazproject.org/models#filter">rmi://localhost/fedora#filter:model=grants</grants>
      <revokes type="http://topazproject.org/models#filter">rmi://localhost/fedora#filter:model=revokes</revokes>
      <preferences type="http://topazproject.org/models#filter">rmi://localhost/fedora#filter:model=preferences</preferences>
      <profiles type="http://topazproject.org/models#filter">rmi://localhost/fedora#filter:model=profiles</profiles>
      <ratings type="http://topazproject.org/models#filter">rmi://localhost/fedora#filter:model=ratings</ratings>
      <alerts type="http://topazproject.org/models#filter">rmi://localhost/fedora#filter:model=alerts</alerts>
      <xsd type="http://tucana.org/tucana#XMLSchemaModel">rmi://localhost/fedora#xsd</xsd>
    </models>
    <services>
      <fedora>
        <uri>http://localhost:9090/fedora/services/management</uri>
        <auth-method>BASIC</auth-method>
        <userName>fedoraAdmin</userName>
        <password>fedoraAdmin</password>
      </fedora>
      <fedoraUploader>
        <uri>http://localhost:9090/fedora/management/upload</uri>
        <auth-method>BASIC</auth-method>
        <userName>fedoraAdmin</userName>
        <password>fedoraAdmin</password>
      </fedoraUploader>
      <itql>
        <uri>http://localhost:9090/fedora/services/ItqlBeanService</uri>
        <auth-method>BASIC</auth-method>
        <userName>fedoraAdmin</userName>
        <password>fedoraAdmin</password>
      </itql>
      <itql-admin>
        <uri>${topaz.services.itql.uri}</uri>
        <auth-method>BASIC</auth-method>
        <userName>fedoraAdmin</userName>
        <password>fedoraAdmin</password>
      </itql-admin>
    </services>
    <server>
      <hostname>localhost</hostname>
    </server>
    
    <life-cycle-listeners>
      <listener name="models">org.topazproject.bootstrap.WebAppListenerInitModels</listener>
      <listener name="scheduler">org.topazproject.bootstrap.WebAppListenerInitScheduler</listener>
    </life-cycle-listeners>

    <scheduler>
      <config>
        <property>org.quartz.scheduler.instanceName = TestScheduler</property>
        <property>org.quartz.scheduler.instanceId   = one</property>
        
        <property>org.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPool</property>
        <property>org.quartz.threadPool.threadCount    = 5</property>
        <property>org.quartz.threadPool.threadPriority = 4</property>
        
        <property>org.quartz.jobStore.class = org.quartz.simpl.RAMJobStore</property>
        <property>org.quartz.jobStore.misfireThreshold = 5000</property>
      </config>
    </scheduler>

    <fedoragsearch>
      <url>http://localhost:9090/fedoragsearch/services/FgsOperations</url>
      <repository>Topaz</repository>
      <index>TopazIndex</index>
      <indexDocXslt>topazFoxmlToLucene</indexDocXslt>
      <resultPageXslt>copyXml</resultPageXslt>
    </fedoragsearch>
    
  </topaz>
</config>
