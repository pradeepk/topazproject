<?xml version="1.0" encoding="UTF-8"?>
<!--
  $HeadURL::                                                                                      $
  $Id$

  Copyright (c) 2006 by Topaz, Inc.
  http://topazproject.org

  Licensed under the Educational Community License version 1.0
  http://opensource.org/licenses/ecl1.php
-->
<pluginMetadata>
  <mojos>

    <mojo>
      <goal>search-install</goal>

      <!-- this element refers to the Ant target we'll invoke -->
      <call>search-install</call>
      <requiresProject>false</requiresProject>

      <description>
        Install the fedoragsearch-service locally
      </description>

      <parameters>

        <parameter>
          <name>DEST_DIR</name>
          <property>DEST_DIR</property>
          <required>true</required>
          <expression>${DEST_DIR}</expression>
          <defaultValue>${topazproject.install.dir}</defaultValue>
        </parameter>

        <parameter>
          <name>ROOT</name>
          <property>ROOT</property>
          <required>true</required>
          <expression>${ROOT}</expression>
          <defaultValue>search-service</defaultValue>
        </parameter>

        <parameter>
          <name>TOMCAT_URL</name>
          <property>TOMCAT_URL</property>
          <expression>${TOMCAT_URL}</expression>
          <description>The location to download tomcat 5.x from.</description>
        </parameter>

      </parameters>
    </mojo>

    <mojo>
      <goal>search-start</goal>

      <!-- this element refers to the Ant target we'll invoke -->
      <call>search-start</call>
      <requiresProject>false</requiresProject>

      <description>
        Start the fedoragsearch tomcat server
      </description>

      <parameters>

        <parameter>
          <name>DEST_DIR</name>
          <property>DEST_DIR</property>
          <required>true</required>
          <expression>${DEST_DIR}</expression>
          <defaultValue>${topazproject.install.dir}</defaultValue>
        </parameter>

        <parameter>
          <name>ROOT</name>
          <property>ROOT</property>
          <required>true</required>
          <expression>${ROOT}</expression>
          <defaultValue>search-service</defaultValue>
        </parameter>

        <parameter>
          <name>PORT</name>
          <property>PORT</property>
          <required>true</required>
          <expression>${PORT}</expression>
          <defaultValue>9092</defaultValue>
        </parameter>

        <parameter>
          <name>SHUTDOWN_PORT</name>
          <property>SHUTDOWN_PORT</property>
          <required>true</required>
          <expression>${SHUTDOWN_PORT}</expression>
          <defaultValue>9292</defaultValue>
        </parameter>

        <parameter>
          <name>SPAWN</name>
          <property>SPAWN</property>
          <required>true</required>
          <expression>${SPAWN}</expression>
          <defaultValue>false</defaultValue>
          <description>Whether we should spawn or not</description>
        </parameter>

        <parameter>
          <name>TOMCAT_HOME</name>
          <property>TOMCAT_HOME</property>
          <expression>${TOMCAT_HOME}</expression>
          <description>The location of the tomcat 5.x installation</description>
        </parameter>

        <parameter>
          <name>webappVersion</name>
          <property>webappVersion</property>
          <required>true</required>
          <expression>${version}</expression>
          <defaultValue>${project.version}</defaultValue>
          <description>The version of the search webapp to run.</description>
        </parameter>

      </parameters>
    </mojo>

    <mojo>
      <goal>search-stop</goal>

      <!-- this element refers to the Ant target we'll invoke -->
      <call>search-stop</call>
      <requiresProject>false</requiresProject>

      <description>
        Stop the fedoragsearch tomcat server
      </description>

      <parameters>

        <parameter>
          <name>DEST_DIR</name>
          <property>DEST_DIR</property>
          <required>true</required>
          <expression>${DEST_DIR}</expression>
          <defaultValue>${topazproject.install.dir}</defaultValue>
        </parameter>

        <parameter>
          <name>ROOT</name>
          <property>ROOT</property>
          <required>true</required>
          <expression>${ROOT}</expression>
          <defaultValue>search-service</defaultValue>
        </parameter>

        <parameter>
          <name>TOMCAT_HOME</name>
          <property>TOMCAT_HOME</property>
          <expression>${TOMCAT_HOME}</expression>
          <description>The location of the tomcat 5.x installation. Must be the same as what
              was given in the search-start command.</description>
        </parameter>

        <parameter>
          <name>SHUTDOWN_PORT</name>
          <property>SHUTDOWN_PORT</property>
          <required>true</required>
          <expression>${SHUTDOWN_PORT}</expression>
          <defaultValue>9292</defaultValue>
        </parameter>

      </parameters>
    </mojo>

    <mojo>
      <goal>search-uninstall</goal>

      <!-- this element refers to the Ant target we'll invoke -->
      <call>search-uninstall</call>
      <requiresProject>false</requiresProject>

      <description>
        Uninstall fedoragsearch from local machine
      </description>

      <parameters>

        <parameter>
          <name>DEST_DIR</name>
          <property>DEST_DIR</property>
          <required>true</required>
          <expression>${DEST_DIR}</expression>
          <defaultValue>${topazproject.install.dir}</defaultValue>
        </parameter>

        <parameter>
          <name>ROOT</name>
          <property>ROOT</property>
          <required>true</required>
          <expression>${ROOT}</expression>
          <defaultValue>search-service</defaultValue>
        </parameter>

      </parameters>
    </mojo>
  </mojos>
</pluginMetadata>
