<?xml version="1.0" encoding="UTF-8"?>
<!--
  $HeadURL::                                                                             $
  $Id$

  Copyright (c) 2006 by Topaz, Inc.
  http://topazproject.org

  Licensed under the Educational Community License version 1.0
  http://opensource.org/licenses/ecl1.php
-->
<pluginMetadata>
  <mojos>

    <mojo>
      <goal>mulgara-install</goal>

      <!-- this element refers to the Ant target we'll invoke -->
      <call>mulgara-install</call>
      <requiresProject>false</requiresProject>

      <description>
        Install the mulgara-service locally
      </description>

      <parameters>

        <parameter>
          <name>DEST_DIR</name>
          <property>DEST_DIR</property>
          <required>true</required>
          <expression>${DEST_DIR}</expression>
          <defaultValue>${topazproject.install.dir}</defaultValue>
        </parameter>

        <parameter>
          <name>ROOT</name>
          <property>ROOT</property>
          <required>true</required>
          <expression>${ROOT}</expression>
          <defaultValue>mulgara-service</defaultValue>
        </parameter>

        <parameter>
          <name>TOMCAT_URL</name>
          <property>TOMCAT_URL</property>
          <expression>${TOMCAT_URL}</expression>
          <description>The location to download tomcat 5.x from.</description>
        </parameter>

      </parameters>
    </mojo>

    <mojo>
      <goal>mulgara-start</goal>

      <!-- this element refers to the Ant target we'll invoke -->
      <call>mulgara-start</call>
      <requiresProject>false</requiresProject>

      <description>
        Start the mulgara tomcat server
      </description>

      <parameters>

        <parameter>
          <name>DEST_DIR</name>
          <property>DEST_DIR</property>
          <required>true</required>
          <expression>${DEST_DIR}</expression>
          <defaultValue>${topazproject.install.dir}</defaultValue>
        </parameter>

        <parameter>
          <name>ROOT</name>
          <property>ROOT</property>
          <required>true</required>
          <expression>${ROOT}</expression>
          <defaultValue>mulgara-service</defaultValue>
        </parameter>

        <parameter>
          <name>SPAWN</name>
          <property>SPAWN</property>
          <required>true</required>
          <expression>${SPAWN}</expression>
          <defaultValue>false</defaultValue>
          <description>Whether we should spawn or not</description>
        </parameter>

        <parameter>
          <name>INSTALL</name>
          <property>INSTALL</property>
          <expression>${INSTALL}</expression>
          <description>Whether we should install first</description>
        </parameter>

        <parameter>
          <name>TOMCAT_HOME</name>
          <property>TOMCAT_HOME</property>
          <expression>${TOMCAT_HOME}</expression>
          <description>The location of the tomcat 5.x installation; tomcat will be downloaded
              from TOMCAT_URL if not set</description>
        </parameter>

      </parameters>
    </mojo>

    <mojo>
      <goal>mulgara-stop</goal>

      <!-- this element refers to the Ant target we'll invoke -->
      <call>mulgara-stop</call>
      <requiresProject>false</requiresProject>

      <description>
        Stop the mulgara tomcat server
      </description>

      <parameters>

        <parameter>
          <name>DEST_DIR</name>
          <property>DEST_DIR</property>
          <required>true</required>
          <expression>${DEST_DIR}</expression>
          <defaultValue>${topazproject.install.dir}</defaultValue>
        </parameter>

        <parameter>
          <name>ROOT</name>
          <property>ROOT</property>
          <required>true</required>
          <expression>${ROOT}</expression>
          <defaultValue>mulgara-service</defaultValue>
        </parameter>

        <parameter>
          <name>TOMCAT_HOME</name>
          <property>TOMCAT_HOME</property>
          <expression>${TOMCAT_HOME}</expression>
          <description>The location of the tomcat 5.x installation. Must be the same as what
              was given in the mulgara-start command.</description>
        </parameter>

      </parameters>
    </mojo>

    <mojo>
      <goal>mulgara-uninstall</goal>

      <!-- this element refers to the Ant target we'll invoke -->
      <call>mulgara-uninstall</call>
      <requiresProject>false</requiresProject>

      <description>
        Uninstall mulgara from local machine
      </description>

      <parameters>

        <parameter>
          <name>DEST_DIR</name>
          <property>DEST_DIR</property>
          <required>true</required>
          <expression>${DEST_DIR}</expression>
          <defaultValue>${topazproject.install.dir}</defaultValue>
        </parameter>

        <parameter>
          <name>ROOT</name>
          <property>ROOT</property>
          <required>true</required>
          <expression>${ROOT}</expression>
          <defaultValue>mulgara-service</defaultValue>
        </parameter>

      </parameters>
    </mojo>
  </mojos>
</pluginMetadata>
