<?xml version="1.0" encoding="UTF-8"?>
<!--
  $HeadURL::                                                                             $
  $Id$

  Copyright (c) 2006 by Topaz, Inc.
  http://topazproject.org

  Licensed under the Educational Community License version 1.0
  http://opensource.org/licenses/ecl1.php
-->
<pluginMetadata>
  <mojos>

    <mojo>
      <goal>fedora-install</goal>

      <!-- this element refers to the Ant target we'll invoke -->
      <call>fedora-install</call>
      <requiresProject>false</requiresProject>

      <description>
        Installs Fedora on the local machine at FEDORA_HOME.
      </description>

      <parameters>

        <parameter>
          <name>FEDORA_INSTALL_DIR</name>
          <property>FEDORA_INSTALL_DIR</property>
          <required>true</required>
          <defaultValue>${topazproject.install.dir}</defaultValue>
          <type>java.lang.String</type>
          <description>The name of the input file.</description>
        </parameter>

        <parameter>
          <name>localRepository</name>
          <property>localRepository</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}</defaultValue>
          <type>java.lang.String</type>
          <description>Maven local repository.</description>
        </parameter>

        <parameter>
          <name>fedora-groupId</name>
          <property>fedora-groupId</property>
          <required>true</required>
          <defaultValue>org/topazproject</defaultValue>
          <type>java.lang.String</type>
          <description>groupId for fedora.</description>
        </parameter>

        <parameter>
          <name>fedora-artifactId</name>
          <property>fedora-artifactId</property>
          <required>true</required>
          <defaultValue>fedora</defaultValue>
          <type>java.lang.String</type>
          <description>artifactId of fedora.</description>
        </parameter>

        <parameter>
          <name>fedora-version</name>
          <property>fedora-version</property>
          <required>true</required>
          <defaultValue>2.1.1</defaultValue>
          <type>java.lang.String</type>
          <description>version of fedora.</description>
        </parameter>

        <parameter>
          <name>mulgara-service-groupId</name>
          <property>mulgara-service-groupId</property>
          <required>true</required>
          <defaultValue>org/topazproject</defaultValue>
          <type>java.lang.String</type>
          <description>groupId for mulgara-service</description>
        </parameter>

        <parameter>
          <name>mulgara-service-artifactId</name>
          <property>mulgara-service-artifactId</property>
          <required>true</required>
          <defaultValue>mulgara-service</defaultValue>
          <type>java.lang.String</type>
          <description>ArtifactId of mulgara-service</description>
        </parameter>

        <parameter>
          <name>mulgara-service-version</name>
          <property>mulgara-service-version</property>
          <required>true</required>
          <defaultValue>0.5-SNAPSHOT</defaultValue>
          <type>java.lang.String</type>
          <description>version of mulgara-service</description>
        </parameter>

        <parameter>
          <name>access-service-groupId</name>
          <property>access-service-groupId</property>
          <required>true</required>
          <defaultValue>org/topazproject/ws</defaultValue>
          <type>java.lang.String</type>
          <description>groupId for access-service</description>
        </parameter>

        <parameter>
          <name>access-service-artifactId</name>
          <property>access-service-artifactId</property>
          <required>true</required>
          <defaultValue>ws-access-webapp</defaultValue>
          <type>java.lang.String</type>
          <description>ArtifactId of access-service</description>
        </parameter>

        <parameter>
          <name>access-service-version</name>
          <property>access-service-version</property>
          <required>true</required>
          <defaultValue>0.5-SNAPSHOT</defaultValue>
          <type>java.lang.String</type>
          <description>version of access-service</description>
        </parameter>
        
        <parameter>
          <name>ECQS_KEYSTORE</name>
          <property>ECQS_KEYSTORE</property>
          <required>true</required>
          <defaultValue>${topazproject.install.dir}/esup-cas-quick-start-2.0.6-1/jakarta-tomcat-5.0.28/conf/cacert.ks</defaultValue>
        </parameter>

        <parameter>
          <name>TOMCAT</name>
          <property>TOMCAT</property>
          <required>true</required>
          <defaultValue>jakarta-tomcat-5.0.28</defaultValue>
        </parameter>
        
      </parameters>
    </mojo>

    <mojo>
      <goal>fedora-start</goal>

      <!-- this element refers to the Ant target we'll invoke -->
      <call>fedora-start</call>
      <requiresProject>false</requiresProject>

      <description>
        Start fedora on the local machine..
      </description>

      <parameters>
        <parameter>
          <name>FEDORA_HOME</name>
          <property>FEDORA_HOME</property>
          <required>true</required>
          <defaultValue>${topazproject.install.dir}/fedora-2.1.1</defaultValue>
          <type>java.lang.String</type>
          <description>Fedora Home directory</description>
        </parameter>
        
        <parameter>
          <name>SPAWN</name>
          <property>SPAWN</property>
          <required>true</required>
          <expression>${SPAWN}</expression>
          <defaultValue>false</defaultValue>
          <description>Whether we should spawn or not</description>
        </parameter>
        
      </parameters>
    </mojo>

    <mojo>
      <goal>fedora-stop</goal>

      <!-- this element refers to the Ant target we'll invoke -->
      <call>fedora-stop</call>
      <requiresProject>false</requiresProject>

      <description>
        Stop fedora on the local machine..
      </description>

      <parameters>
        <parameter>
          <name>FEDORA_HOME</name>
          <property>FEDORA_HOME</property>
          <required>true</required>
          <defaultValue>${topazproject.install.dir}/fedora-2.1.1</defaultValue>
          <type>java.lang.String</type>
          <description>Fedora Home directory</description>
        </parameter>
      </parameters>
    </mojo>

    <mojo>
      <goal>fedora-package</goal>

      <!-- this element refers to the Ant target we'll invoke -->
      <call>fedora-package</call>
      <requiresProject>true</requiresProject>

      <description>
        Package fedora with Topaz configuration files
      </description>

      <parameters>
        <parameter>
          <name>VERSION</name>
          <property>VERSION</property>
          <required>true</required>
          <defaultValue>2.1.1</defaultValue>
        </parameter>

        <parameter>
          <name>DEST_DIR</name>
          <property>DEST_DIR</property>
          <required>true</required>
          <defaultValue>${project.build.directory}/${project.build.finalName}</defaultValue>
        </parameter>

        <parameter>
          <name>SRC_CLIENT_TAR</name>
          <property>SRC_CLIENT_TAR</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}/info/fedora/client-distribution/2.1.1/client-distribution-2.1.1.tar</defaultValue>
        </parameter>

        <parameter>
          <name>SRC_SERVER_TAR</name>
          <property>SRC_SERVER_TAR</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}/info/fedora/server-distribution/2.1.1-p1/server-distribution-2.1.1-p1.tar</defaultValue>
        </parameter>

        <parameter>
          <name>TOMCAT</name>
          <property>TOMCAT</property>
          <required>true</required>
          <defaultValue>jakarta-tomcat-5.0.28</defaultValue>
        </parameter>

        <parameter>
          <name>SRC_DIRINGEST_ZIP</name>
          <property>SRC_DIRINGEST_ZIP</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}/info/fedora/diringest-distribution/2.1.1/diringest-distribution-2.1.1.zip</defaultValue>
        </parameter>

        <parameter>
          <name>CAS_AUTHENTICATOR</name>
          <property>CAS_AUTHENTICATOR</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}/org/topazproject/tomcat-jaas-cas/0.5-SNAPSHOT/tomcat-jaas-cas-0.5-SNAPSHOT.jar</defaultValue>
        </parameter>

        <parameter>
          <name>CAS_CLIENT</name>
          <property>CAS_CLIENT</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}/cas/casclient/2.1.1/casclient-2.1.1.jar</defaultValue>
        </parameter>

        <parameter>
          <name>RESOURCE_INDEXER</name>
          <property>RESOURCE_INDEXER</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}/org/topazproject/resource-indexer/0.5-SNAPSHOT/resource-indexer-0.5-SNAPSHOT.jar</defaultValue>
        </parameter>

        <parameter>
          <name>FILTER_RESOLVER</name>
          <property>FILTER_RESOLVER</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}/org/topazproject/filter-resolver/0.5-SNAPSHOT/filter-resolver-0.5-SNAPSHOT.jar</defaultValue>
        </parameter>

        <parameter>
          <name>WS_ACCESS_CLIENT</name>
          <property>WS_ACCESS_CLIENT</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}/org/topazproject/ws/ws-access-client-impl/0.5-SNAPSHOT/ws-access-client-impl-0.5-SNAPSHOT.jar</defaultValue>
        </parameter>
        
        <parameter>
          <name>WS_ACCESS_API</name>
          <property>WS_ACCESS_API</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}/org/topazproject/ws/ws-access-api/0.5-SNAPSHOT/ws-access-api-0.5-SNAPSHOT.jar</defaultValue>
        </parameter>
        
        <parameter>
          <name>WS_COMMON_API</name>
          <property>WS_COMMON_API</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}/org/topazproject/ws/ws-common-api/0.5-SNAPSHOT/ws-common-api-0.5-SNAPSHOT.jar</defaultValue>
        </parameter>
        
        <parameter>
          <name>AUTH_HELPER</name>
          <property>AUTH_HELPER</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}/org/topazproject/auth-helper/0.5-SNAPSHOT/auth-helper-0.5-SNAPSHOT.jar</defaultValue>
        </parameter>
        
        <parameter>
          <name>CONF_HELPER</name>
          <property>CONF_HELPER</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}/org/topazproject/conf-helper/0.5-SNAPSHOT/conf-helper-0.5-SNAPSHOT.jar</defaultValue>
        </parameter>
        
        <parameter>
          <name>FEDORA_SECURITY</name>
          <property>FEDORA_SECURITY</property>
          <required>true</required>
          <defaultValue>${settings.localRepository}/org/topazproject/fedora-security/0.5-SNAPSHOT/fedora-security-0.5-SNAPSHOT.jar</defaultValue>
        </parameter>
      </parameters>

    </mojo>
  </mojos>
</pluginMetadata>
