#!/usr/bin/env bash
# $HeadURL::                                                                   $
# $Id$
#
# Start multicast
# Copyright (c) 2006 by Topaz, Inc.
# http://topazproject.org
#
# Licensed under the Educational Community License version 1.0
# http://opensource.org/licenses/ecl1.php

# This script is intended to be called from other init scripts.
# This is used for ecache and mulgara/xacml caching.

ifconfig eth0 multicast
ifconfig lo multicast

if ! route | grep 224.0.0.0 | grep eth0 > /dev/null; then
  route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0
fi
if ! route | grep 224.0.0.0 | grep lo > /dev/null; then
  route add -net 224.0.0.0 netmask 240.0.0.0 dev lo
fi
