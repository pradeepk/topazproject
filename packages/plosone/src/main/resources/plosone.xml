<?xml version="1.0" encoding="UTF-8" ?>
<!--
  This file is a template. It contains many configuration parameters you may want to change.
  However, there are even more configuration parameters that can be tuned. To get a list of
  all of these, see documentation. (Or, failing that, most defaults are configured in the
  plosone webapp at WEB-INF/classes/defaults.xml. Though it is possible that there are
  even more - see ConfigurationStore documentation.)
-->
<config>
  <network>
    <hosts>
      <!-- Set hosts.default to FQHN (not localhost) for a singleboxinstall
           (or to webhead FQHN for multibox install) -->
      <default>localhost</default>
      <mailhost>localhost</mailhost>
      <!-- For multibox install, change the following entires to the appropriate FQHNs -->
      <cas>${network.hosts.default}</cas>
      <registration>${network.hosts.cas}</registration>
      <fedora>${network.hosts.default}</fedora>
      <mulgara>${network.hosts.default}</mulgara>
      <plosone>${network.hosts.default}</plosone>
    </hosts>
    <ports>
      <!-- For webhead, set default to empty (not 80) -->
      <default>${network.ports.plosone}</default>
    </ports>
  </network>

  <pub>
    <!-- To change network settings, please set the following above:
         - network.hosts.default
         - network.ports.default
         - network.ports.plosone-ssl -->
    <app-context></app-context>
    <resource-sub-dir></resource-sub-dir>

    <search>
      <snippetsMax>3</snippetsMax>          <!-- Number of snippets to show per document -->
      <fieldMaxLength>50</fieldMaxLength>   <!-- Max chars per indexed field? -->
      <cacheDuration>600000</cacheDuration> <!-- Milliseconds to cache search results -->
      <pageSize>10</pageSize>               <!-- Number of results per page -->
      <fetchSize>10</fetchSize>             <!-- Number of results to fetch at a time -->
    </search>

    <!-- Stuff used by doi-resolver -->
    <webserver-url>http://${network.hosts.default}:${network.ports.default}${pub.app-context}/</webserver-url>

    <!-- common display constants -->
    <name>Public Library of Science</name>
    <email><general>webmaster@plos.org</general></email>
    <copyright>This work is licensed under a Creative Commons Attribution-Share Alike 3.0 License, http://creativecommons.org/licenses/by-sa/3.0/</copyright>

    <!-- defaults for generating a PLoS ONE Atom Feed -->
    <feed>
      <title>PLoS ONE Alerts: PLoS ONE Journal</title>
      <tagline>Publishing science, accelerating research</tagline>
      <icon>${network.hosts.default}/images/pone_favicon.ico</icon>
    </feed>

    <spring>
      <!-- crossref information - set parameters and sendToXref to true to turn on -->
      <crossref>
        <plos>
          <doiurl>http://...</doiurl>        <!-- URL where your URIs can be found -->
          <email>webmaster@your-org</email>  <!-- email address to send info to -->
        </plos>
        <login>crossref-username</login>     <!-- crossref login -->
        <password>your-password</password>   <!-- crossref password -->
        <area>test</area>
        <sendToXref>false</sendToXref>       <!-- Set to true to turn on crossref posting -->
      </crossref>
    </spring>
  </pub>

  <plos-registration>
    <!-- It is assumed plos-registartion webapp is running on cas. However that can be changed
         by changing the following settings. -->
    <hostname>${network.hosts.cas}</hostname>
    <app-context>/plos-registration</app-context> <!-- Name of expanded webapp -->
  </plos-registration>

  <topaz>
    <services>
      <!-- Configuration to talk to Fedora -->
      <fedora>
        <auth-method>BASIC</auth-method>
        <userName>fedoraAdmin</userName>
        <password>fedoraAdmin</password>
      </fedora>
    </services>

    <utilities>
      <image-magick>
        <executable-path>/usr/bin/convert</executable-path>
        <temp-directory>/tmp</temp-directory>
      </image-magick>
    </utilities>

    <search>
      <indexpath>/var/lib/topaz/data/lucene</indexpath>
      <defaultfields>description,title,body,creator</defaultfields>
    </search>

    <articles>
      <pdpName>standard-pdp</pdpName>
    </articles>
    <annotations>
      <pdpName>standard-pdp</pdpName>
    </annotations>
    <replies>
      <pdpName>standard-pdp</pdpName>
    </replies>
    <permissions>
      <pdpName>standard-pdp</pdpName>
    </permissions>
    <profiles>
      <pdpName>standard-pdp</pdpName>
    </profiles>
    <preferences>
      <pdpName>standard-pdp</pdpName>
    </preferences>
    <user-accounts>
      <pdpName>standard-pdp</pdpName>
    </user-accounts>
    <user-roles>
      <pdpName>standard-pdp</pdpName>
    </user-roles>
    <ratings>
      <pdpName>standard-pdp</pdpName>
    </ratings>
    <alerts>
      <pdpName>standard-pdp</pdpName>
    </alerts>
    <search>
      <pdpName>standard-pdp</pdpName>
    </search>
    <access>
      <pdpName>standard-pdp</pdpName>
    </access>
  </topaz>
</config>
